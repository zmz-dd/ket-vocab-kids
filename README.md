# KET 一起学 (Vocab Kids)

一款面向儿童（尤其是备考剑桥少儿英语 KET）的**趣味背单词 Web 应用**：学习 / 复习 / 测试 / 错题本 / 统计 / 排行榜。

> 说明：本项目是纯前端静态站点（Vite + React + TypeScript）。所有数据只保存在**当前浏览器的 IndexedDB** 中：刷新不丢，但换设备/清缓存会消失。

## 默认管理员账号

- 用户名：`zhx`
- 密码：`1989`

管理员仅用于后台管理（用户/词书），**不参与学习 PK / 排行榜**。

## 功能概览

- **多用户注册/登录**：孩子可创建独立账号（可选头像）。
- **管理员后台**：
  - 用户管理：创建/删除普通用户（删除会级联删除学习记录/进度/错题）。
  - 词书管理：
    - 内置 KET 一级/二级/三级（来自 `src/assets/data/builtin_books.json`）。
    - 自定义词书：创建名录 → 导入单词（每行一个）。
    - **Create & Enrich（补全）**：点击 Enrich 尝试联网补全音标/例句/词性（失败留空）。
- **学习计划**：支持多选词书 +（按天定量 / 限期完成）+（字母顺序 / 随机）。修改计划会重置“今日已学”。
- **学习 Learn**：翻转卡片 + 三大按钮（认识/不认识/跳过）+ 每批 10 个。
  - 今日目标完成后，“开始学习”会变为“追加学习”。
  - 追加学习优先级：新词 → 高频错题 → 待复习 → 最早学习词。
- **复习 Review**：按简化艾宾浩斯时间点自动筛选到期单词。
- **测试 Quiz**：四选一（选中文释义），可选范围：全部已学/当天已学/指定词书/全部错题/当天错题。
- **错题本 Mistakes**：按错误次数降序，可筛选“只看今天”，并可直接在错题本内发起复习。
- **统计 Stats**：按词书/首字母维度查看掌握进度。
- **排行榜 Leaderboard**：按“掌握单词数”排名（排除管理员）。

## 发音说明

- 默认使用浏览器 **Web Speech API (TTS)** 朗读单词和例句（离线也能用）。
- 如果词条里存在 `audio` / `exampleAudio` URL，会优先播放音频。

## 开发与运行

### 1) 安装依赖

```bash
pnpm install
```

### 2) 本地启动

```bash
pnpm dev
```

### 3) 构建

```bash
pnpm build
pnpm preview
```

## 目录结构（关键）

- `src/lib/`：业务逻辑（IndexedDB、计划、任务挑选、学习进度、TTS 等）
- `src/pages/`：页面（登录、学习、复习、测试、错题、统计、排行榜、管理员后台）
- `src/assets/data/builtin_books.json`：内置词库

## 备注（与产品说明对齐的实现口径）

- **“已学/掌握”**：在学习中点“认识/跳过”，或测试答对，或错题复习学对。
- **鲁棒性**：进度百分比等展示均做了 NaN/异常保护。
- **双语 UI**：主要按钮英文 + 小号中文说明。

---

如需把词库的“音标/例句/例句朗读音频”做成更完整的批量补全（例如接入更稳定的词典 API、缓存音频、离线包等），可以继续在此项目上迭代。
